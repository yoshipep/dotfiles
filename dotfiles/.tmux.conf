# ============================================================================
# GENERAL
# ============================================================================

set -g default-terminal "tmux-256color"
set -as terminal-features ",*:RGB"
set -ga update-environment " COLORTERM"
set -g mouse on
set -g history-limit 100000
set -g set-clipboard on
set -s escape-time 0
set-option -g default-shell /bin/zsh
set-option -g focus-events on

# ============================================================================
# STATUS BAR
# ============================================================================

set -g status off
set -g status-bg colour234
set -g status-fg colour245
set -g message-style fg=colour223,bg=colour31,bold

# ============================================================================
# KEY BINDINGS - SPLITS & WINDOWS
# ============================================================================

bind -n \uE001 split-window -h -c "#{pane_current_path}"  # Ctrl+Shift+Enter
bind -n \uE002 split-window -v -c "#{pane_current_path}"  # Ctrl+Shift+H

unbind c
bind c new-window -c "#{pane_current_path}"

# New session with name prompt (Ctrl+Shift+S)
bind -n \uE030 command-prompt -p "New session:" "new-session -s '%%'"

# ============================================================================
# KEY BINDINGS - PANE RESIZE & NAVIGATION
# ============================================================================

# Resize (Ctrl+Shift+Arrows)
bind -n \uE010 resize-pane -L 1  # Ctrl+Shift+Left
bind -n \uE011 resize-pane -R 1  # Ctrl+Shift+Right
bind -n \uE012 resize-pane -U 1  # Ctrl+Shift+Up
bind -n \uE013 resize-pane -D 1  # Ctrl+Shift+Down

# Navigate (Alt+Arrows)
bind -n M-Left  select-pane -L
bind -n M-Right select-pane -R
bind -n M-Up    select-pane -U
bind -n M-Down  select-pane -D

# Rotate panes (Super+Shift+R)
bind -n \uE020 rotate-window -D

# ============================================================================
# KEY BINDINGS - VI COPY MODE
# ============================================================================

set-window-option -g mode-keys vi
bind -n M-v copy-mode
bind-key -T copy-mode-vi v send-keys -X begin-selection
bind-key -T copy-mode-vi y send-keys -X copy-pipe-and-cancel "xclip -selection clipboard -i"
bind-key -T copy-mode-vi Enter send-keys -X copy-pipe-and-cancel "xclip -selection clipboard -i"
